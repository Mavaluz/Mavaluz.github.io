<style>
    body {
        background-image: url("/grafiken/hintergrund.jpg");
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        overflow-y: scroll; /* Scrollbalken immer anzeigen */
        height: 1900px;
    }

    .mitte { 
	display: flex;
	justify-content: center;
    margin: 0px auto;
    padding-top: 25px;
    max-width: 780px;
    }

    #willkommen-container {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        color: #ccc;
        margin: 0px auto;
        text-align: center;
    margin-top: 10px;
    
    max-width: 780px;
    }

    #tutorial-container {
    margin: 0px auto;
    /* margin-top: 25px; */
    max-width: 780px;
  }

  #tutorial-text {
    max-width: 730px;
    margin: 0 auto;
    border-radius: 10px;
        border: 2px solid #ccc;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
       font-weight: 600;
       font-size: 16px;
       color: #ccc;
       margin-top: 10px;
       padding-left: 25px;
       padding-right: 25px;
       padding-bottom: 8px;
       text-align: left;
  }

  #toggle-eye {
    width: 50px;
    height: auto;
    transition: 0.3s;
    margin-bottom: 8px;
  }

  .hoerprobe {
    max-height: 50px;
    max-width: 700px;
    cursor: default;
    font-weight: 600;
    font-size: 16px;
    border: 2px solid #ccc;
    color: #ccc;
    border-radius: 10px;
    border-color: #ccc;
    text-align: left;
    white-space: normal;
    margin-top: 5px;
    margin-bottom: 25px;
    padding: 40px;
}

.hoerprobe span {
    white-space: normal;
    line-height: 1.5;
}

.hoerprobe:hover {
    border: 2px solid #004c4c;
    }

    .notizen-wrapper {
      position: relative;
      width: 780px; /* beliebig anpassen */
      margin: 10px auto 20px; /* oben 50px, unten 0px, horizontal zentriert */
    }
    
    #notizen {
       width: 100%;
       height: 275px;
        padding: 30px 10px 10px 10px; /* oben Platz für den Zähler */
        /* font-size: 1rem; */
      border-radius: 10px;
        border: 2px solid #ccc;
       box-sizing: border-box;
       resize: none;
       font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
       font-weight: 600;
       font-size: 16px;
       color: #ccc;
       background-color: transparent;        
  }

  #notizen::placeholder {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #ccc;
    opacity: 0.4;
}

  .counter {
      position: absolute;
      top: 5px;
      left: 10px;
      font-size: 0.9rem;
      opacity: 0.75;
      color: hwb(180 7% 35%);
      pointer-events: none; /* damit man trotzdem ins Textfeld klicken kann */
    }

    .counter.green {
    color: hwb(180 7% 35%);
  }

  .counter.yellow {
    color: #ffd600;
  }

  .counter.red {
    color: #ff6c17;
  }

    .copy-button:hover {
      text-decoration: none;
      opacity: 1.0;
    }

    .copy-button {
      position: absolute;
      top: 8px;
      right: 5px;
      opacity: 0.6;
      font-size: 0.8rem;
      background: none;
      border: none;
      color: #007bff;
      cursor: pointer;
    }

    .copy-icon {
  width: 16px;      /* beliebig skalierbar */
  height: 16px;
  
  display: block;
}

    .grid-container {
        margin: 0px auto;
       /* width: 50%; */
       /* min-width: 450px; */
        max-width: 780px;
        height: auto;
    }

    .grid-row-1 {
        display: grid;
        grid-template-columns: auto auto;
        grid-template-rows: 40px auto;
    }

    .volume-container {
        display: flex;
        border: 2px solid #ccc;
        border-radius: 10px 10px 0 0;
        border-bottom: none;
        width: fit-content;
        justify-content: left;
        padding-left: 2px;
        align-items: center;
        grid-column: 1/2;
        padding-right: 8px;
    }

    #volume-icon {
        height: 28px;
        /* padding-left: 2px; */
        opacity: 0.6;
    }

    #volume-icon:hover {
        cursor: pointer;
        opacity: 1;
    }

    #volume-slider {
        cursor: pointer;
        
    }

    .grid-tabs {
        display: flex;
        grid-column: 2/3;
        justify-content: left;
        align-items: center;
    }

    .tab-link-1 {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        border: 2px solid #ccc;
        border-bottom: none;
        color: #ccc;
        font-weight: 600;
        font-size: 16px;
        background: transparent;
        height: 100%;
        width: 20%;
        min-width: 100px;
        border-radius: 10px 10px 0 0;
        margin-right: 10px;
    }

    .tab-link-2 {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        color: #ccc;
        font-weight: 600;
        font-size: 16px;
        border: 2px solid #ccc;
        border-bottom: none;
        background: transparent;
        height: 100%;
        width: 20%;
        min-width: 100px;
        border-radius: 10px 10px 0 0;
    }

    .tab-link.active {
        background-color: #004c4c;
        text-shadow: 2px 2px 2px #000;
    }

    .tab-link-1:not(.active):hover,
    .tab-link-2:not(.active):hover {
        border-color: #004c4c;
    }

    #binocular-icon {
        display: flex;
        margin-top: 9px;
        padding-left: 5px;
        height: 22px;
        opacity: 0.6;
    }

    #search-input::placeholder {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        color: #ccc;
        opacity: 0.4;
    }

    #search-input {
        display: flex;
        width: 90%;
        height: 40px;
        grid-column: 1/3;
        justify-content: center;
        align-items: center;
        background-color: transparent;
        border: none;
        border-radius: 10px;
       /* padding-left: 5px; */
        margin-right: 2px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: 16;
        font-weight: 600;
        color: #ccc;
    }

    #search-input:focus {
        outline: none;
    }

    #radiergummi {
    width: 30px;
    height: 30px;
    cursor: pointer;
    margin-left: 5px;
    align-self: center;
    opacity: 0.6;
    transition: opacity 0.2s ease;
}
#radiergummi:hover {
    opacity: 1;
}

    .grid-row-3 {
        border: 2px solid #ccc;
        border-top: none;
        border-radius: 0 0 10px 10px;
    }

    .grid-item {
        display: flex;
        cursor: default;
        font-weight: 600;
        border-radius: 10px;
        color: #ccc;
       /* background: #ccc; */
       border: 2px solid #aaa;
        justify-content: center;
        align-items: center;
        height: 38px;
        max-height: 40px;
        /*min-width: 190px;*/
        max-width: 188px;
        /* width: auto; */
        letter-spacing: 0.1em;
    }

    .grid-item:hover {
        /* background-color: #999; */
        border: 2px solid #004c4c;
    }

    .large {
        grid-column-end: span 2;
    }

    .tab-content {
        display: none;
    }

    .tab-content.active {
        display: grid;
        font-size: 16px;
        grid-template-columns: repeat(4, 1fr);
        padding-top: 3px;
        margin-left: 3px;
        margin-right: 3px;
        margin-bottom: 3px;
        grid-gap: 3px;
        overflow: auto;
    }

    .grid-row-2 {
        display: flex;
        grid-gap: 5px;
        border: 2px solid #ccc;
        height: 40px;
        border-radius: 0px 10px 0 0;
    }

</style>
<html>

<header class="mitte">
    <a href="/">
        <img 
            width="50"
            src="grafiken/pengu_avatar.png"
            alt="pengu"/>
    </a>
</header>

<body>
    <div id="willkommen-container">
        <p><b>Willkommen bei advanced-TTS!</b><br> Öffne die Augen, um die Anleitung zu entdecken und mehr sehen zu können.</p>
        <p></p>
      </div>

    <div id="tutorial-container" style="text-align: center;">
        
        <img id="toggle-eye" src="grafiken/augen_zu.png" alt="Auge Icon" style="cursor: pointer;">
        <div id="tutorial-text" style="display: none;">
          <p style="text-align: center; font-size: 20px;"><b><span style="color: hsl(216, 100%, 50%);">Anleitung</span></b></p>
          <p>&nbsp;</p>
          <p>Definiere einen Sprecher, in dem du einen Stimmennamen gefolgt von einem Doppelpunkt eingibst:</p>
          <p><b><span style="color: lch(70.97% 82.77 66.28);" >marlene:</span></b></p>
          <p>&nbsp;</p>
          <p>Gültige Soundeffekte werden in Rundenklammern definiert:</p>
          <p><b><span style="color: hwb(180 7% 35%);">(quack)</span></b></p>
          <p>&nbsp;</p>
          <p>&nbsp;</p>
          <p>Hier siehst du eine Beispielnachricht, klick sie an für eine Hörprobe. <br> Beachte die Leerzeichen vor und nach einer Stimmen und Sound Definition!</p>
          <div class="hoerprobe" onclick="playSound('stimmen/hoerprobe.wav', event)">
            <b><span style="color: lch(70.97% 82.77 66.28); text-shadow: 2px 2px 2px #000;">marlene: </span></b>
            Hallo das ist die Stimme von Marlene
            <b><span style="color: lch(70.97% 82.77 66.28); text-shadow: 2px 2px 2px #000;">hans:</span></b>
            Du kannst auch fließend in einer Nachricht auf mich wechseln.
            <b><span style="color: hwb(180 7% 35%); text-shadow: 2px 2px 2px #000;">(quack)</span></b>
            </div>
            <p><b><span style="color: hsl(216, 100%, 50%);">Pro-Tip:</span></b> Stimmen und Sounds kannst du per klick mit der rechten Maustaste aus der ganz unten zu findenden Datenbank, direkt in den Notizblock, den Du direkt hier drunter findest, einfügen. Viel Spaß!</p>

          
        </div>
      </div>
      <script>
        const eye = document.getElementById('toggle-eye');
        const text = document.getElementById('tutorial-text');
        let visible = false;
      
        eye.addEventListener('click', () => {
          visible = !visible;
          text.style.display = visible ? 'block' : 'none';
          eye.src = visible ? 'grafiken/augen_offen.png' : 'grafiken/augen_zu.png';
        });
      </script>

    <div class="notizen-überschrift">
        
    </div>
    <div class="notizen-wrapper">
        <span class="counter" id="charCount">0/500</span>
        <button class="copy-button" onclick="copyToClipboard()" title="Copypasta">
            <img src="grafiken/copypasta.png" alt="Kopieren" class="copy-icon">
          </button>
        <textarea id="notizen" maxlength="500" placeholder="Das ist der Notizblock zum vorschreiben deiner Nachricht - rechts oben kopieren." spellcheck="false"></textarea>
      </div>
      <script>
        const textarea = document.getElementById('notizen');
        const counter = document.getElementById('charCount');
      
        textarea.addEventListener('input', () => {
          const length = textarea.value.length;
          counter.textContent = `${length}/500`;
      
          // Farben je nach Länge setzen
          counter.classList.remove('green', 'yellow', 'red');
      
          const percentage = (length / 500) * 100;
          if (percentage <= 33) {
            counter.classList.add('green');
          } else if (percentage <= 80) {
            counter.classList.add('yellow');
          } else {
            counter.classList.add('red');
          }
        });
      
        function copyToClipboard() {
          navigator.clipboard.writeText(textarea.value).catch(err => {
            /* console.error("Fehler beim Kopieren:", err); */
          });
        }
      </script>
    <div class="grid-container">
        <div class="grid-row-1">
            <div class="volume-container">
                <label for="volume-slider"></label>
                <img id="volume-icon" src="grafiken/audio_leise.png" onclick="toggleMute()" title="Stummschalten">
                <input type="range" min="0" max="100" value="75" class="volume-slider" id="volume-slider"
                    oninput="setVolume(this.value)" />
            </div> <!--volume-container-->
            <div class="grid-tabs">
                <button class="tab-link active tab-link-1" data-tab="tab-1">STIMMEN</button>
                <button class="tab-link tab-link-2" data-tab="tab-2">SOUNDS</button>
            </div><!--grid-tabs-->
        </div> <!--grid-row-1-->
        <div class="grid-row-2">
            <!--<div class="searchbar-container">-->
            <img id="binocular-icon" src="grafiken/lupe.png">
            <input type="text" id="search-input" oninput="search()" placeholder="Suchst du etwas bestimmtes?" autocomplete="off">
            <img id="radiergummi" src="grafiken/radierer.png" onclick="clearSearch()" title="Ratzefummel">
            <script>function clearSearch() {
                const input = document.getElementById("search-input");
                input.value = "";
                search(); // falls deine Suche automatisch reagieren soll
            }</script>
            <!--</div><--searchbar-container-->
        </div><!--grid-row-2-->
        <div class="grid-row-3">
            <div class="tab-content active" data-tab="tab-1">
                <div class="grid-item" onclick="playSound('stimmen/hans.wav', event)">hans</div>
                <div class="grid-item" onclick="playSound('stimmen/marlene.wav', event)">marlene</div>
                <div class="grid-item" onclick="playSound('stimmen/mava.wav', event)">mava</div>
                <div class="grid-item" onclick="playSound('stimmen/mava_angry.wav', event)">mava_angry</div>
                <div class="grid-item" onclick="playSound('stimmen/xardas.wav', event)">xardas</div>
                <div class="grid-item" onclick="playSound('stimmen/darkness.wav', event)">darkness</div>
            </div><!--tab-content active tab-1-->
            <div class="tab-content" data-tab="tab-2">
                <div class="grid-item" onclick="playSound('sounds/alert.wav', event)">alert</div>
                <div class="grid-item" onclick="playSound('sounds/answer.wav', event)">answer</div>
                <div class="grid-item" onclick="playSound('sounds/applause.wav', event)">applause</div>
                <div class="grid-item" onclick="playSound('sounds/ayaya.wav', event)">ayaya</div>
                <div class="grid-item" onclick="playSound('sounds/badum_tss.wav', event)">badum_tss</div>
                <div class="grid-item" onclick="playSound('sounds/banana.wav', event)">banana</div>
                <div class="grid-item" onclick="playSound('sounds/boing.wav', event)">boing</div>
                <div class="grid-item" onclick="playSound('sounds/brb.wav', event)">brb</div>
                <div class="grid-item" onclick="playSound('sounds/cash_register.wav', event)">cash_register</div>
                <div class="grid-item" onclick="playSound('sounds/close_door.wav', event)">close_door</div>
                <div class="grid-item" onclick="playSound('sounds/creeper.wav', event)">creeper</div>
                <div class="grid-item" onclick="playSound('sounds/crickets.wav', event)">crickets</div>
                <div class="grid-item" onclick="playSound('sounds/cry_pengu.wav', event)">cry_pengu</div>
                <div class="grid-item" onclick="playSound('sounds/death_mario.wav', event)">death_mario</div>
                <div class="grid-item" onclick="playSound('sounds/disconnected.wav', event)">disconnected</div>
                <div class="grid-item" onclick="playSound('sounds/dolphin.wav', event)">dolphin</div>
                <div class="grid-item" onclick="playSound('sounds/drink.wav', event)">drink</div>
                <div class="grid-item" onclick="playSound('sounds/dun_dun_dunnn.wav', event)">dun_dun_dunnn</div>
                <div class="grid-item" onclick="playSound('sounds/eat.wav', event)">eat</div>
                <div class="grid-item" onclick="playSound('sounds/elevator_music.wav', event)">elevator_music</div>
                <div class="grid-item" onclick="playSound('sounds/explosion.wav', event)">explosion</div>
                <div class="grid-item" onclick="playSound('sounds/fail.wav', event)">fail</div>
                <div class="grid-item" onclick="playSound('sounds/fall_mario.wav', event)">fall_mario</div>
                <div class="grid-item" onclick="playSound('sounds/fbi.wav', event)">fbi</div>
                <div class="grid-item" onclick="playSound('sounds/finish_him.wav', event)">finish_him</div>
                <div class="grid-item" onclick="playSound('sounds/fire_in_the_hole.wav', event)">fire_in_the_hole</div>
                <div class="grid-item" onclick="playSound('sounds/flashback.wav', event)">flashback</div>
                <div class="grid-item" onclick="playSound('sounds/gameover_sms.wav', event)">gameover_sms</div>
                <div class="grid-item" onclick="playSound('sounds/glass_shatter.wav', event)">glass_shatter</div>
                <div class="grid-item" onclick="playSound('sounds/gunshot.wav', event)">gunshot</div>
                <div class="grid-item" onclick="playSound('sounds/haha.wav', event)">haha</div>
                <div class="grid-item" onclick="playSound('sounds/heartbeat.wav', event)">heartbeat</div>
                <div class="grid-item" onclick="playSound('sounds/hit.wav', event)">hit</div>
                <div class="grid-item" onclick="playSound('sounds/hitmarker.wav', event)">hitmarker</div>
                <div class="grid-item" onclick="playSound('sounds/illuminati.wav', event)">illuminati</div>
                <div class="grid-item" onclick="playSound('sounds/inception.wav', event)">inception</div>
                <div class="grid-item" onclick="playSound('sounds/knife.wav', event)">knife</div>
                <div class="grid-item" onclick="playSound('sounds/knock_door.wav', event)">knock_door</div>
                <div class="grid-item" onclick="playSound('sounds/later.wav', event)">later</div>
                <div class="grid-item" onclick="playSound('sounds/mission_failed.wav', event)">mission_failed</div>
                <div class="grid-item" onclick="playSound('sounds/mouse_click.wav', event)">mouse_click</div>
                <div class="grid-item" onclick="playSound('sounds/nailed_it.wav', event)">nailed_it</div>
                <div class="grid-item" onclick="playSound('sounds/nonono.wav', event)">nonono</div>
                <div class="grid-item" onclick="playSound('sounds/only_game.wav', event)">only_game</div>
                <div class="grid-item" onclick="playSound('sounds/oof.wav', event)">oof</div>
                <div class="grid-item" onclick="playSound('sounds/phone.wav', event)">phone</div>
                <div class="grid-item" onclick="playSound('sounds/poggers.wav', event)">poggers</div>
                <div class="grid-item" onclick="playSound('sounds/punch.wav', event)">punch</div>
                <div class="grid-item" onclick="playSound('sounds/quack.wav', event)">quack</div>
                <div class="grid-item" onclick="playSound('sounds/reload.wav', event)">reload</div>
                <div class="grid-item" onclick="playSound('sounds/rewind.wav', event)">rewind</div>
                <div class="grid-item" onclick="playSound('sounds/shots_fired.wav', event)">shots_fired</div>
                <div class="grid-item" onclick="playSound('sounds/silence_1sec.wav', event)">silence_1sec</div>
                <div class="grid-item" onclick="playSound('sounds/slowclap.wav', event)">slowclap</div>
                <div class="grid-item" onclick="playSound('sounds/splash.wav', event)">splash</div>
                <div class="grid-item" onclick="playSound('sounds/splat.wav', event)">splat</div>
                <div class="grid-item" onclick="playSound('sounds/squek.wav', event)">squek</div>
                <div class="grid-item" onclick="playSound('sounds/startup.wav', event)">startup</div>
                <div class="grid-item" onclick="playSound('sounds/suspense.wav', event)">suspense</div>
                <div class="grid-item" onclick="playSound('sounds/sussy_baka.wav', event)">sussy_baka</div>
                <div class="grid-item" onclick="playSound('sounds/tinktink.wav', event)">tinktink</div>
                <div class="grid-item" onclick="playSound('sounds/toobad_sms.wav', event)">toobad_sms</div>
                <div class="grid-item" onclick="playSound('sounds/we_got_him.wav', event)">we_got_him</div>
                <div class="grid-item" onclick="playSound('sounds/why_are_u_running.wav', event)">why_are_u_running</div>
                <div class="grid-item" onclick="playSound('sounds/wrong.wav', event)">wrong</div>
                <div class="grid-item" onclick="playSound('sounds/you_died.wav', event)">you_died</div>
            </div><!--tab-content tab-2-->
        </div><!--grid-row-3-->
    </div> <!--grid-container-->
    <footer></footer>

    <script>
        const tabLinks = document.querySelectorAll('.tab-link');
        const tabContents = document.querySelectorAll('.tab-content');

        tabLinks.forEach(link => {
            link.addEventListener('click', () => {
                const tab = link.dataset.tab;
                activateTab(tab);
            })
        });

        function activateTab(tab) {
            tabContents.forEach(content => {
                if (content.dataset.tab === tab) {
                    content.classList.add('active');
                } else {
                    content.classList.remove('active');
                }
            });
            tabLinks.forEach(link => {
                if (link.dataset.tab === tab) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        }
    </script>

    <script type="text/javascript">
        var currentAudio;
        var lastClickedElement;
        var globalVolume = 0.75;

        function playSound(soundFile, event) {
    if (currentAudio) {
        currentAudio.pause(); // Stoppe den aktuellen Sound
    }

    var audio = new Audio(soundFile);
    var elem = event.currentTarget;

    // Setze die Stile des vorherigen Elements zurück
    if (lastClickedElement) {
        lastClickedElement.style.backgroundColor = "";
        lastClickedElement.style.color = "";
        lastClickedElement.style.border = "";
        lastClickedElement.style.textShadow = "";
    }

    // Setze die Stile für das aktuell angeklickte Element
    elem.style.border = "2px solid hsl(36, 96%, 49%)";
    elem.style.textShadow = "2px 2px 2px #000";

    // Speichere das aktuelle Audio und das angeklickte Element
    currentAudio = audio;
    lastClickedElement = elem;

    // Setze die Lautstärke und spiele den Sound ab
    audio.volume = globalVolume;
    audio.play();

    // Event-Listener, um die Stile zurückzusetzen, wenn der Sound endet
    audio.addEventListener("ended", function () {
        elem.style.backgroundColor = "";
        elem.style.color = "";
        elem.style.border = "";
        elem.style.textShadow = "";
    });
}
        function updateVolumeIcon() {
            var volumeIcon = document.getElementById("volume-icon");
            if (globalVolume == 0.0) {
                volumeIcon.src = "grafiken/audio_stumm.png";
                volumeIcon.title = "Stummsch. aufheben";
            } else if (globalVolume < 0.5) {
                volumeIcon.src = "grafiken/audio_leise.png";
                volumeIcon.title = "Stummschalten";
            } else {
                volumeIcon.src = "grafiken/audio_laut.png";
                volumeIcon.title = "Stummschalten";
            }
        }
        function setVolume(volume) {
            globalVolume = volume / 100.0;
            if (currentAudio) {
                currentAudio.volume = globalVolume;
            }
            updateVolumeIcon();
        }
        var previousVolume = 0.1;

        function toggleMute() {
            var volumeSlider = document.getElementById("volume-slider");
            var volumeIcon = document.getElementById("volume-icon");

            if (globalVolume != 0) {
                // Speichere den aktuellen Lautstärkewert
                previousVolume = globalVolume;
                // Setze den Lautstärkeregler auf 0
                volumeSlider.value = 0;
                // Setze die globale Lautstärke auf 0
                globalVolume = 0;
                // Aktualisiere das Icon
                volumeIcon.src = "grafiken/audio_stumm.png";
                volumeIcon.title = "Stummsch. aufheben";
            } else {
                // Stelle den vorherigen Lautstärkewert wieder her
                globalVolume = previousVolume;
                // Setze den Lautstärkeregler auf den vorherigen Wert
                volumeSlider.value = previousVolume * 100;
                // Aktualisiere das Icon
                updateVolumeIcon();
            }

            // Wenn ein Audio-Element gerade wiedergegeben wird, aktualisiere dessen Lautstärke
            if (currentAudio) {
                currentAudio.volume = globalVolume;
            }
        }

        // Vorheriger Suchbegriff und Suchergebnisse speichern
        var previousSearchTerm = "";
        var searchResults = {};

        // Tab-Click-Event-Handler
        var tabs = document.querySelectorAll(".tab-link");
        tabs.forEach(function (tab) {
            tab.addEventListener("click", function () {
                // Aktueller Tab und Suchbegriff ermitteln
                var currentTab = tab.getAttribute("data-tab");
                var searchTerm = document.getElementById("search-input").value;

                // Prüfen, ob für den aktuellen Tab bereits gesucht wurde
                if (searchResults[currentTab] && searchTerm === previousSearchTerm) {
                    // Suchergebnisse anzeigen, die zuvor gespeichert wurden
                    displayResults(searchResults[currentTab]);
                } else {
                    // Suchfunktion ausführen und Ergebnisse speichern
                    var results = search(searchTerm);
                    searchResults[currentTab] = results;
                    previousSearchTerm = searchTerm;

                    // Suchergebnisse anzeigen
                    displayResults(results);
                }
            });
        });

        // Suchfunktion
        function search(searchTerm) {
            var searchTerm = document.getElementById("search-input").value.toLowerCase();
            var activeTabContent = document.querySelector(".tab-content.active");
            var gridItems = activeTabContent.querySelectorAll(".grid-item");
            gridItems.forEach(function (item) {
                var text = item.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    item.style.display = "flex";
                } else {
                    item.style.display = "none";
                }
            });

            // Suchergebnisse anzeigen
            function displayResults(results) {
                // Hier die Suchergebnisse anzeigen
            }
        }

        document.querySelectorAll('.grid-item').forEach(item => {
    item.addEventListener('contextmenu', (event) => {
        event.preventDefault(); // Verhindert das Standard-Kontextmenü

        const notizen = document.getElementById('notizen');
        const counter = document.getElementById('charCount');
        const activeTab = document.querySelector('.tab-content.active').dataset.tab; // Aktiver Tab
        const textContent = event.target.textContent.trim();
        let textToInsert;

        // Unterscheide zwischen Sprecher (tab-1) und Sound (tab-2)
        if (activeTab === 'tab-1') {
            textToInsert = `${textContent}: `; // Sprechername mit Doppelpunkt
        } else if (activeTab === 'tab-2') {
            textToInsert = `(${textContent}) `; // Soundname in Klammern
        }

        // Prüfe, ob die maximale Länge überschritten wird
        const currentLength = notizen.value.length;
        if (currentLength + textToInsert.length > 500) {
            /*alert('Maximale Zeichenanzahl von 255 erreicht!');*/
            return;
        }

        // Füge den Text an der aktuellen Cursorposition ein
        const start = notizen.selectionStart;
        const end = notizen.selectionEnd;
        const currentValue = notizen.value;

        notizen.value = currentValue.slice(0, start) + textToInsert + currentValue.slice(end);
        notizen.selectionStart = notizen.selectionEnd = start + textToInsert.length;

        // Aktualisiere den Zeichenzähler
        const length = notizen.value.length;
        counter.textContent = `${length}/500`;

        // Farben je nach Länge setzen
        counter.classList.remove('green', 'yellow', 'red');
        const percentage = (length / 500) * 100;
        if (percentage <= 33) {
            counter.classList.add('green');
        } else if (percentage <= 80) {
            counter.classList.add('yellow');
        } else {
            counter.classList.add('red');
        }

         notizen.focus(); // Setzt den Fokus zurück auf die Notizbox
    });
});

    </script>

</body>

</html>